apiVersion: runtime.agentic-layer.ai/v1alpha1
kind: ToolServer
metadata:
  name: customer-database
  namespace: {{ .Values.namespace }}
  labels:
    {{ include "showcase-insurance-claims.labels" . | nindent 4 }}
spec:
  protocol: mcp
  transportType: http
  image: {{ .Values.images.customerDatabase.repository }}:{{ .Values.images.customerDatabase.tag }}
  port: 8000
  env:
    - name: OTEL_SERVICE_NAME
      value: customer-database
  envFrom:
    - configMapRef:
        name: {{ .Values.externalDependencies.otelConfig.name }}
        optional: true
